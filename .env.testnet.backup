# === NEAR Testnet Configuration ===
# Used when NEAR_ENV=testnet
# WARNING: Testnet uses real NEAR tokens - ensure sufficient balance for gas fees

# Environment
NEAR_ENV=testnet

# Master Account (your testnet account with FT contract deployed)
MASTER_ACCOUNT=posm.testnet
# FULL-ACCESS KEYS (7 keys for high throughput)
MASTER_ACCOUNT_PRIVATE_KEY=ed25519:5c28XPtgXLrqfS22C8R8ynBiYvjjfu4BnH21wRrtvQeZyz4XiS3M7Fom867VcgPrfbxh3ui1SPXZ14Uz1chmeoi6
# Using all generated keys (newly generated should be full-access by default)
MASTER_ACCOUNT_PRIVATE_KEYS=ed25519:5c28XPtgXLrqfS22C8R8ynBiYvjjfu4BnH21wRrtvQeZyz4XiS3M7Fom867VcgPrfbxh3ui1SPXZ14Uz1chmeoi6,ed25519:5Lk3DWBexgFvo9mtDjDo6xJtEN4ykzs3C6syVAq8YEgHto9EKB351ne8cK8YFzWGtDyFSjAchCtYajtthtT87CBX,ed25519:4SaUEBDgT8FHRNUQwZCeUr8WUCxrt2hKHxbPzakFXgkMfxCsdnR6cUztpLkYvp6wBo5U2LqJnamw1YJM7Ef36sNe,ed25519:2fUA914uSq4MJgRq7bfjToY7U3cMgxB9Vt4NUfQDMDQTJLv9AaY8z93cPVPj6fH1ewFqFrMuLUvXDZMXEX4YDor7,ed25519:5ToMstFw9AzyRiVGXodbmSGku96NxisoF335MtFWAzvJ2P5BGEvXy3bgpx5EQ6gNAHWQ6Sex8W7oJy4X8fBeWhZg,ed25519:3UgVJD7uFhnNLY4pGtJ2n9ao7BcKQUUTgvGtHyS1itEhFBDqgqfTuPv7UVBpuJFKYsA3rwHwa8TiRGdcoUqHugr2,ed25519:3LTPRuxwWnF15ZV6t8QzREE5ie1Zxv6sPCz4SvghgNVf8LEePYot8yB3ELreqZZLfCqPSQLbmp8z5wiguG6ykebn


# FT Contract (deployed NEP-141 FT contract on testnet)
FT_CONTRACT=posm.testnet

TEST_RECEIVER_ID=posma-badge.testnet,ft-benchmark.testnet
# Amount expressed in yocto (default: 1 yocto = 10^-24 FT)
TEST_TRANSFER_AMOUNT=1

# RPC Configuration (testnet - using FastNEAR RPC ONLY)
# CRITICAL: Use ONLY FastNEAR to avoid public RPC rate limits!
NODE_URL=https://rpc.testnet.fastnear.com
RPC_URLS=https://rpc.testnet.fastnear.com
# API key automatically added as Bearer token and x-api-key header
FASTNEAR_API_KEY=34b1798c6089ecd7480e5f927414fbefbf337bc744fb41b4d80c83b2c311e7fb

# API Configuration
PORT=3000

TPS=28
DURATION=300
# Service Performance Settings - Optimized for 28 TPS, 5 menit
# ========================================================
SKIP_STORAGE_CHECK=true
STORAGE_MIN_DEPOSIT=1250000000000000000000

# Concurrency Settings (7 keys available - optimized for high throughput) 
CONCURRENCY_LIMIT=800          # Increased for better throughput
WORKER_COUNT=6                 # Align workers with effective key pool
MAX_IN_FLIGHT=200              # Increased in-flight capacity
BATCH_SIZE=40                  # Batch processing size
QUEUE_SIZE=25000               # Increased queue backlog

# Throttle Settings (7 keys × 12 TPS ≈ 84 TPS theoretical)
MAX_TX_PER_SECOND=80           # Global TPS ceiling
MAX_TX_PER_KEY_PER_SECOND=12   # Per-key throttle to reduce collisions
GLOBAL_THROTTLE_WINDOW_SEC=1
PER_KEY_THROTTLE_WINDOW_SEC=1
TESTNET_MAX_IN_FLIGHT_PER_KEY=4 # Limit simultaneous lease per key

# Performance Mode
LOG_LEVEL=warn                 # Minimal logging overhead!
WAIT_UNTIL=Included            # Recommended - fast confirmations with valid responses

# Transaction Settings
WAIT_UNTIL=Included            # Fastest finality
NONCE_RETRY_LIMIT=4            # Retry on nonce conflicts

# Batching Configuration (Optimized for high throughput)
BATCH_WINDOW_MS=400            # Flush batches quickly (400ms window)
MAX_BATCH_SIZE=15              # Increased: More transfers per transaction
MAX_ACTIONS_PER_TX=20          # Increased: Max actions per blockchain transaction

# Server Configuration
SERVER_TIMEOUT_MS=120000       # 2 minutes
REQUEST_TIMEOUT_MS=120000      # 2 minutes
